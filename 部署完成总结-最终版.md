# âœ… åç«¯æœåŠ¡éƒ¨ç½²å®Œæˆæ€»ç»“

## ğŸ‰ éƒ¨ç½²çŠ¶æ€

### âœ… å·²å®Œæˆçš„æ­¥éª¤

1. âœ… **Nginx åå‘ä»£ç†é…ç½®å·²éƒ¨ç½²**
   - API ä»£ç†ï¼š`/api/*` â†’ `http://localhost:3001/api/*`
   - é…ç½®æ–‡ä»¶ï¼š`/etc/nginx/sites-available/sgc_website`
   - Nginx å·²é‡å¯å¹¶è¿è¡Œæ­£å¸¸

2. âœ… **åç«¯ä»£ç å·²éƒ¨ç½²**
   - åç«¯ç›®å½•ï¼š`/var/www/sgc_website/server`
   - ä¸»è¦æ–‡ä»¶å·²ä¸Šä¼ ï¼ˆserver.js, package.json, api/ ç›®å½•ç­‰ï¼‰

3. âœ… **Node.js å·²å®‰è£…**
   - ç‰ˆæœ¬ï¼šv20.19.6
   - npm ç‰ˆæœ¬ï¼š10.8.2

4. âœ… **ä¾èµ–å·²å®‰è£…**
   - åç«¯ä¾èµ–å·²å®‰è£…ï¼ˆ70 ä¸ªåŒ…ï¼‰
   - PM2 å·²å…¨å±€å®‰è£…

5. âœ… **åç«¯æœåŠ¡å·²å¯åŠ¨**
   - æœåŠ¡åç§°ï¼šsgc-backend
   - è¿›ç¨‹ IDï¼š30968
   - çŠ¶æ€ï¼šonline
   - å¥åº·æ£€æŸ¥ï¼šâœ… æ­£å¸¸ (`http://localhost:3001/health`)

## ğŸŒ è®¿é—®åœ°å€

- **å‰ç«¯é¦–é¡µ**: http://47.106.73.160/
- **ç®¡ç†åå°**: http://47.106.73.160/admin
- **ä¸“å®¶åˆ—è¡¨ç®¡ç†**: http://47.106.73.160/admin/expert-list
- **ç ”å‘æ¶æ„ç®¡ç†**: http://47.106.73.160/admin/research-structure
- **API æµ‹è¯•**: http://47.106.73.160/api/experts

## ğŸ“‹ æœåŠ¡ä¿¡æ¯

### åç«¯æœåŠ¡
- **åœ°å€**: http://localhost:3001
- **å¥åº·æ£€æŸ¥**: http://localhost:3001/health
- **API ç«¯ç‚¹**: 
  - `/api/experts` - ä¸“å®¶åˆ—è¡¨
  - `/api/research-structure` - ç ”å‘æ¶æ„

### PM2 ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 list

# æŸ¥çœ‹æ—¥å¿—
pm2 logs sgc-backend

# é‡å¯æœåŠ¡
pm2 restart sgc-backend

# åœæ­¢æœåŠ¡
pm2 stop sgc-backend

# æŸ¥çœ‹æœåŠ¡è¯¦æƒ…
pm2 info sgc-backend

# ç›‘æ§æœåŠ¡
pm2 monit
```

## ğŸ” éªŒè¯æ­¥éª¤

### 1. éªŒè¯åç«¯æœåŠ¡

```bash
# SSH åˆ°æœåŠ¡å™¨
ssh root@47.106.73.160

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
pm2 list

# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:3001/health
# åº”è¯¥è¿”å›: {"status":"ok","message":"Server is running"}
```

### 2. éªŒè¯ API ä»£ç†

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæµ‹è¯•
curl http://localhost/api/experts
# åº”è¯¥è¿”å›ä¸“å®¶åˆ—è¡¨æ•°æ®ï¼ˆJSON æ ¼å¼ï¼‰
```

### 3. æµè§ˆå™¨éªŒè¯

è®¿é—®ç®¡ç†åå°å¹¶æµ‹è¯•åŠŸèƒ½ï¼š
- è®¿é—®ï¼šhttp://47.106.73.160/admin
- å°è¯•ä¿®æ”¹ä¸“å®¶ä¿¡æ¯å¹¶ä¿å­˜
- å°è¯•ä¸Šä¼ å›¾ç‰‡
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

## ğŸ“ é…ç½®æ–‡ä»¶ä½ç½®

- **Nginx é…ç½®**: `/etc/nginx/sites-available/sgc_website`
- **åç«¯ç›®å½•**: `/var/www/sgc_website/server`
- **PM2 é…ç½®**: `/root/.pm2/dump.pm2`
- **åç«¯æ—¥å¿—**: `pm2 logs sgc-backend`
- **Nginx æ—¥å¿—**: 
  - `/var/log/nginx/sgc_website_access.log`
  - `/var/log/nginx/sgc_website_error.log`

## ğŸ¯ æ¶æ„è¯´æ˜

```
å®¢æˆ·ç«¯æµè§ˆå™¨
  â†“ GET /api/experts
Nginx (47.106.73.160:80)
  â†“ åå‘ä»£ç† location /api/
åç«¯æœåŠ¡ (localhost:3001)
  â†“ å“åº”æ•°æ®
Nginx
  â†“ è¿”å›ç»™å®¢æˆ·ç«¯
å®¢æˆ·ç«¯æµè§ˆå™¨
```

## âœ… éƒ¨ç½²å®Œæˆæ£€æŸ¥æ¸…å•

- [x] Nginx é…ç½®å·²æ›´æ–°
- [x] Nginx é…ç½®æµ‹è¯•é€šè¿‡
- [x] Nginx å·²é‡å¯
- [x] Node.js å·²å®‰è£…
- [x] åç«¯ä¾èµ–å·²å®‰è£…
- [x] PM2 å·²å®‰è£…
- [x] åç«¯æœåŠ¡è¿è¡Œæ­£å¸¸
- [x] å¥åº·æ£€æŸ¥é€šè¿‡
- [x] API ä»£ç†æµ‹è¯•é€šè¿‡
- [x] PM2 è¿›ç¨‹åˆ—è¡¨å·²ä¿å­˜ï¼ˆå¼€æœºè‡ªå¯ï¼‰

## ğŸ‰ æ€»ç»“

**æ‰€æœ‰é…ç½®å·²å®Œæˆï¼** ç°åœ¨å¯ä»¥ï¼š

1. âœ… è®¿é—®ç®¡ç†åå°ï¼šhttp://47.106.73.160/admin
2. âœ… ç®¡ç†ä¸“å®¶åˆ—è¡¨ä¿¡æ¯
3. âœ… ç®¡ç†ç ”å‘æ¶æ„ä¿¡æ¯
4. âœ… ä¸Šä¼ å›¾ç‰‡å’Œ Logo
5. âœ… ä¿å­˜ä¿®æ”¹

åç«¯æœåŠ¡å·²é…ç½®ä¸ºå¼€æœºè‡ªå¯ï¼ŒæœåŠ¡å™¨é‡å¯åä¼šè‡ªåŠ¨å¯åŠ¨ã€‚

---

**éƒ¨ç½²æ—¶é—´**: 2025-12-10
**æœåŠ¡å™¨**: 47.106.73.160
**çŠ¶æ€**: âœ… å…¨éƒ¨å®Œæˆï¼ŒæœåŠ¡æ­£å¸¸è¿è¡Œ

