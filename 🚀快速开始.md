# 🚀 Ngrok 快速开始指南

## ✅ 当前状态
- ✅ ngrok 已安装 (`~/bin/ngrok` v3.33.1)
- ✅ 前端服务运行中 (端口 3000)
- ✅ 后端服务运行中 (端口 3001)
- ✅ 所有脚本已就绪
- ⏳ **只需配置 authtoken 即可使用**

## 🎯 3步完成设置

### 步骤1：获取 ngrok authtoken（2分钟）

1. **注册账号**（如果还没有）
   - 访问：https://dashboard.ngrok.com/signup
   - 使用邮箱注册（免费）

2. **获取 authtoken**
   - 登录后访问：https://dashboard.ngrok.com/get-started/your-authtoken
   - 复制你的 authtoken（类似：`2xxxxxxxxxxxxxxxxxxxxxxxxxxxxx_xxxxxxxxxxxxx`）

### 步骤2：配置 authtoken

**方法A：使用交互式脚本（推荐）**
```bash
./setup-ngrok-auth.sh
```
脚本会提示你输入 authtoken

**方法B：手动配置**
```bash
export PATH="$HOME/bin:$PATH"
ngrok config add-authtoken YOUR_AUTHTOKEN
```
（将 `YOUR_AUTHTOKEN` 替换为你的实际 token）

### 步骤3：启动 ngrok

**方法A：使用测试脚本（推荐）**
```bash
./test-ngrok.sh
```
脚本会检查所有配置并启动 ngrok

**方法B：直接启动**
```bash
./start-ngrok-local.sh
```

## 📝 配置前端 API 地址

启动 ngrok 后：

1. **获取后端 ngrok 地址**
   - 查看终端输出，或
   - 访问：http://localhost:4041
   - 复制 HTTPS 地址

2. **更新 `.env.local`**
   ```bash
   # 编辑 .env.local，更新为：
   NEXT_PUBLIC_API_URL=https://你的后端ngrok地址
   ```

3. **重启前端服务**
   - 按 `Ctrl+C` 停止前端
   - 重新运行：`npm run dev`

## 🌐 分享访问地址

1. **获取前端 ngrok 地址**
   - 查看终端输出，或
   - 访问：http://localhost:4040

2. **分享给其他人**
   - 管理后台：`https://你的前端ngrok地址/admin`
   - 专家列表：`https://你的前端ngrok地址/admin/expert-list`
   - 研发架构：`https://你的前端ngrok地址/admin/research-structure`

## 🛠️ 可用脚本

- `setup-ngrok-auth.sh` - 交互式配置 authtoken
- `test-ngrok.sh` - 测试并启动 ngrok
- `start-ngrok-local.sh` - 直接启动 ngrok
- `install-ngrok.sh` - 安装 ngrok（已完成）

## 📚 详细文档

- `NEXT_STEPS.md` - 详细操作步骤
- `QUICK_START_NGROK.md` - 快速启动指南
- `NGROK_SETUP.md` - 完整设置文档

## ⚠️ 注意事项

- ngrok 免费版每次启动地址会变化，需要更新 `.env.local`
- 当前管理页面没有密码保护，请谨慎分享
- 测试完成后及时关闭 ngrok（`pkill ngrok`）

## 🆘 遇到问题？

- **ngrok 命令未找到**：运行 `export PATH="$HOME/bin:$PATH"`
- **authtoken 配置失败**：检查 token 是否正确，确保网络正常
- **无法访问隧道**：检查防火墙，确保端口未被占用

---

**现在就开始：运行 `./setup-ngrok-auth.sh` 配置 authtoken！** 🚀

